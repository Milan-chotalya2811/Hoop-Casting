(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},64706,e=>{e.v({card:"Form-module__iwjq6q__card",error:"Form-module__iwjq6q__error",footer:"Form-module__iwjq6q__footer",formContainer:"Form-module__iwjq6q__formContainer",formGroup:"Form-module__iwjq6q__formGroup",link:"Form-module__iwjq6q__link",submitBtn:"Form-module__iwjq6q__submitBtn",subtitle:"Form-module__iwjq6q__subtitle",title:"Form-module__iwjq6q__title"})},94875,e=>{"use strict";var t=e.i(43476),l=e.i(71645),a=e.i(18566),i=e.i(1831),r=e.i(64706),s=e.i(71689),o=e.i(22016);let n=["Actor","Model","Anchor","Makeup Artist","Stylist","Art Direction","Photographer","Videographer","Video Editor","Internship in Acting","Internship in Modeling","Internship in Anchoring","Props Renting","Studio Renting","Set Designer"];function u(){let e=(0,a.useSearchParams)().get("id");(0,a.useRouter)();let[u,p]=(0,l.useState)({}),[m,g]=(0,l.useState)(!1),[_,h]=(0,l.useState)(""),[f,x]=(0,l.useState)(0),[y,j]=(0,l.useState)(!1),[b,v]=(0,l.useState)(null),[k,w]=(0,l.useState)({city:"",age:"",dob:"",whatsapp_number:"",emergency_contact:"",category:"",bio:"",skills:"",languages:"",portfolio_links:"",past_brand_work:"",agency_status:"",pay_rates:"",travel_surat:"No",content_rights_agreed:!1,chest_in:"",waist_in:"",hips_in:"",skin_tone:"",hair_color:"",eye_color:"",height_cm:"",weight_kg:"",profile_photo_url:"",gallery_urls:[],intro_video_url:"",social_links:"",deleted_at:null}),[A,C]=(0,l.useState)({}),[S,N]=(0,l.useState)(!0);(0,l.useEffect)(()=>{e&&(async()=>{try{let{data:t}=await i.default.get(`/profile.php?id=${e}`);if(t&&(p({name:t.name,email:t.email,mobile:t.mobile}),w({...t,skills:Array.isArray(t.skills)?t.skills.join(", "):t.skills||"",languages:Array.isArray(t.languages)?t.languages.join(", "):t.languages||"",portfolio_links:Array.isArray(t.portfolio_links)?t.portfolio_links.join("\n"):t.portfolio_links||"",travel_surat:t.travel_surat?"Yes":"No",category:t.category||"",gallery_urls:Array.isArray(t.gallery_urls)?t.gallery_urls:t.gallery_urls?JSON.parse(t.gallery_urls):[]}),t.custom_fields))try{C("string"==typeof t.custom_fields?JSON.parse(t.custom_fields):t.custom_fields)}catch(e){C({})}}catch(e){console.error("Error loading profile",e),h("Error loading profile data.")}finally{N(!1)}})()},[e]);let q=e=>{let{name:t,value:l,type:a,checked:i}=e.target,r="checkbox"===a?i:l;if("whatsapp_number"===t){let e=l.replace(/[^0-9]/g,"").slice(0,10);w(l=>({...l,[t]:e}));return}Object.keys(k).includes(t)?w(e=>({...e,[t]:r})):C(e=>({...e,[t]:r}))},B=async(e,t)=>{let l=e.target.files[0];if(l)try{g(!0),j(!0),h("Uploading...");let e=(await (0,i.uploadFile)(l,e=>x(e))).url;e.startsWith("/"),w(l=>({...l,[t]:e})),h("Upload successful")}catch(e){h("Upload error: "+e.message)}finally{g(!1),j(!1)}},F=async t=>{t.preventDefault(),g(!0);try{let t={id:e,...k,skills:k.skills.split(",").map(e=>e.trim()).filter(Boolean),languages:k.languages.split(",").map(e=>e.trim()).filter(Boolean),portfolio_links:k.portfolio_links.split("\n").map(e=>e.trim()).filter(Boolean),travel_surat:"Yes"===k.travel_surat,custom_fields:A};await i.default.post("/admin/update_profile.php",t),h("Profile updated successfully!"),window.scrollTo(0,0)}catch(e){h("Error: "+e.message)}finally{g(!1)}};return S?(0,t.jsx)("div",{className:"container section",children:"Loading..."}):(0,t.jsxs)("div",{className:"container section",children:[(0,t.jsxs)(o.default,{href:"/admin/talents",className:"btn btn-outline",style:{display:"inline-flex",alignItems:"center",gap:"8px",marginBottom:"20px",textDecoration:"none"},children:[(0,t.jsx)(s.ArrowLeft,{size:16})," Back to List"]}),(0,t.jsxs)("div",{className:r.default.card,children:[(0,t.jsx)("h1",{className:"title-gradient",style:{marginBottom:"5px"},children:"Edit Talent Profile"}),(0,t.jsxs)("p",{style:{marginBottom:"20px",color:"#666"},children:["Editing: ",u.name," (",u.email,")"]}),_&&(0,t.jsx)("div",{style:{padding:"10px",background:"#eee",marginBottom:"20px",borderRadius:"4px"},children:_}),(0,t.jsxs)("form",{onSubmit:F,children:[(0,t.jsx)(d,{title:"Core Info"}),(0,t.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsx)("label",{children:"Category"}),(0,t.jsxs)("select",{className:r.default.select,name:"category",value:k.category,onChange:q,children:[(0,t.jsx)("option",{value:"",children:"Select..."}),n.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsx)(c,{name:"city",label:"City",value:k.city,onChange:q}),(0,t.jsx)(c,{name:"whatsapp_number",label:"WhatsApp",value:k.whatsapp_number,onChange:q})]}),(0,t.jsx)(d,{title:"Details"}),(0,t.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px"},children:[(0,t.jsx)(c,{name:"age",label:"Age",type:"number",value:k.age,onChange:q}),(0,t.jsx)(c,{name:"height_cm",label:"Height (cm)",type:"number",value:k.height_cm,onChange:q}),(0,t.jsx)(c,{name:"weight_kg",label:"Weight (kg)",type:"number",value:k.weight_kg,onChange:q})]}),(0,t.jsxs)("div",{style:{marginTop:"20px"},children:[(0,t.jsx)(c,{name:"bio",label:"Bio",type:"textarea",value:k.bio,onChange:q}),(0,t.jsx)(c,{name:"portfolio_links",label:"Portfolio Links (One per line)",type:"textarea",value:k.portfolio_links,onChange:q})]}),(0,t.jsx)(d,{title:"Media"}),(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsx)("label",{children:"Profile Photo"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[k.profile_photo_url&&(0,t.jsx)("img",{src:k.profile_photo_url,style:{width:80,height:80,objectFit:"cover",borderRadius:"8px"}}),(0,t.jsx)("input",{type:"file",onChange:e=>B(e,"profile_photo_url")})]})]}),(0,t.jsx)("div",{style:{marginTop:"30px"},children:(0,t.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:m||y,children:m?"Saving...":"Update Profile"})})]})]})]})}function d({title:e}){return(0,t.jsx)("h3",{className:"gold-text",style:{marginTop:"30px",marginBottom:"15px",borderBottom:"1px solid #ddd"},children:e})}function c({label:e,name:l,value:a,onChange:i,type:s="text",...o}){return(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsx)("label",{children:e}),"textarea"===s?(0,t.jsx)("textarea",{className:r.default.textarea,name:l,value:a||"",onChange:i,rows:4,...o}):(0,t.jsx)("input",{className:r.default.input,type:s,name:l,value:a||"",onChange:i,...o})]})}function p(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(u,{})})}e.s(["default",()=>p])}]);