(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},58546,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(1831),i=e.i(18566),s=e.i(86905),r=e.i(22016),d=e.i(71689),n=e.i(56909);function o(){let e=(0,i.useRouter)(),o=(0,i.useSearchParams)().get("id"),[m,u]=(0,a.useState)(!0),[c,p]=(0,a.useState)(!1),[g,h]=(0,a.useState)({id:"",title:"",slug:"",content:"",image_url:"",meta_title:"",meta_description:"",keywords:""}),[x,f]=(0,a.useState)(null),[y,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{o&&(async()=>{try{let{data:e}=await l.default.get(`/blogs.php?id=${o}`);e&&h({id:e.id,title:e.title,slug:e.slug,content:e.content,image_url:e.image_url||"",meta_title:e.meta_title||"",meta_description:e.meta_description||"",keywords:e.keywords||""})}catch(t){console.error("Error fetching blog:",t),alert("Blog not found."),e.push("/admin/blogs")}u(!1)})()},[o,e]);let j=e=>{h({...g,[e.target.name]:e.target.value})},v=async t=>{t.preventDefault(),p(!0);try{let t=g.image_url;x&&(t=(await (0,l.uploadFile)(x)).url),await l.default.put("/admin/blogs.php",{...g,image_url:t}),alert("Blog updated successfully!"),e.push("/admin/blogs")}catch(e){alert("Error updating blog: "+(e.response?.data?.message||e.message))}finally{p(!1)}};return m?(0,t.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:s.default.header,children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)(r.default,{href:"/admin/blogs",children:(0,t.jsxs)("button",{className:`${s.default.btn} ${s.default.btnSecondary}`,children:[(0,t.jsx)(d.ArrowLeft,{size:16})," Back"]})}),(0,t.jsx)("h1",{className:s.default.title,children:"Edit Blog"})]})}),(0,t.jsx)("div",{className:s.default.formContainer,style:{background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,t.jsxs)("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"1.5rem",maxWidth:"800px"},children:[(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:["Title ",(0,t.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"title",value:g.title,onChange:j,required:!0,className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:"Slug"}),(0,t.jsx)("input",{type:"text",name:"slug",value:g.slug,onChange:j,className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:"Thumbnail Image"}),g.image_url&&!y&&(0,t.jsxs)("div",{style:{marginBottom:"1rem",width:"200px"},children:[(0,t.jsx)("img",{src:g.image_url.startsWith("http")?g.image_url:`https://hoopcasting.com${g.image_url}`,alt:"Current",style:{width:"100%",borderRadius:"4px"}}),(0,t.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Current Image"})]}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];f(t),b(URL.createObjectURL(t))}},className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db"}}),y&&(0,t.jsx)("div",{style:{marginTop:"1rem",width:"100%",maxHeight:"300px",overflow:"hidden",borderRadius:"8px"},children:(0,t.jsx)("img",{src:y,alt:"Preview",style:{width:"100%",height:"auto",objectFit:"cover"}})})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:["Content (HTML) ",(0,t.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,t.jsx)("textarea",{name:"content",value:g.content,onChange:j,required:!0,rows:15,className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db",fontFamily:"monospace"}})]}),(0,t.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0"}}),(0,t.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:700,marginBottom:"1rem"},children:"SEO Settings"}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:"Meta Title"}),(0,t.jsx)("input",{type:"text",name:"meta_title",value:g.meta_title,onChange:j,className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:"Meta Description"}),(0,t.jsx)("textarea",{name:"meta_description",value:g.meta_description,onChange:j,rows:3,className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:"Keywords"}),(0,t.jsx)("input",{type:"text",name:"keywords",value:g.keywords,onChange:j,className:s.default.input,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),(0,t.jsx)("div",{style:{marginTop:"1rem"},children:(0,t.jsx)("button",{type:"submit",disabled:c,className:`${s.default.btn} ${s.default.btnPrimary}`,style:{padding:"0.75rem 2rem",fontSize:"1rem"},children:c?"Updating...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Save,{size:18,style:{marginRight:"8px"}})," Update Blog"]})})})]})})]})}function m(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(o,{})})}e.s(["default",()=>m])}]);