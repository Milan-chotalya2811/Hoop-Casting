(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21526,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],21526)},81456,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(1831),l=e.i(86905),a=e.i(63488);let r=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var n=e.i(21526);function d(){let[e,d]=(0,i.useState)([]),[c,o]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),x=async()=>{o(!0),p(null);try{let{data:e}=await s.default.get("/admin/contacts.php");d(e)}catch(e){console.error(e),p(e.response?.data?.message||e.message||"Failed to fetch messages")}o(!1)};return(0,i.useEffect)(()=>{x()},[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:l.default.header,children:[(0,t.jsxs)("h1",{className:l.default.title,children:["Contact Messages ",(0,t.jsxs)("span",{style:{fontSize:"0.8em",opacity:.7},children:["(",e.length,")"]})]}),(0,t.jsxs)("button",{onClick:x,className:`${l.default.btn} ${l.default.btnSecondary} ${l.default.btnSm}`,children:[(0,t.jsx)(n.RefreshCw,{size:14})," Refresh"]})]}),(0,t.jsx)("div",{className:l.default.tableContainer,style:{overflowX:"auto"},children:c?(0,t.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading..."}):h?(0,t.jsxs)("div",{style:{padding:"2rem",textAlign:"center",color:"#ef4444"},children:[(0,t.jsx)("p",{style:{fontWeight:600},children:"Error loading messages:"}),(0,t.jsx)("p",{children:h}),h.includes("404")&&(0,t.jsx)("p",{style:{marginTop:"10px",fontSize:"0.9rem",color:"#6b7280"},children:"The backend file might be missing."})]}):0===e.length?(0,t.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:"No messages found."}):(0,t.jsxs)("table",{className:l.default.table,style:{minWidth:"100%"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{whiteSpace:"nowrap"},children:"From"}),(0,t.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Subject / Category"}),(0,t.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Contact Info"}),(0,t.jsx)("th",{style:{minWidth:"300px"},children:"Message"}),(0,t.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Date"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{var i;let s,l,n,d,c,o,h,{mobile:p,category:x,body:g}=(s=(i=e.message||"").split("\n"),l="N/A",n="N/A",d=i,c=s.find(e=>e.startsWith("Mobile: ")),o=s.find(e=>e.startsWith("Category: ")),c&&(l=c.replace("Mobile: ","").trim()),o&&(n=o.replace("Category: ","").trim()),-1!==(h=s.findIndex(e=>"Message:"===e.trim()))&&h+1<s.length&&(d=s.slice(h+1).join("\n").trim()),{mobile:l,category:n,body:d});return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{verticalAlign:"top"},children:(0,t.jsx)("div",{style:{fontWeight:600,whiteSpace:"nowrap"},children:e.name})}),(0,t.jsxs)("td",{style:{verticalAlign:"top"},children:[(0,t.jsx)("div",{style:{fontWeight:500},children:e.subject||"No Subject"}),(0,t.jsx)("div",{className:"badge",style:{display:"inline-block",fontSize:"0.75rem",padding:"2px 8px",borderRadius:"12px",background:"#e5e7eb",color:"#374151",marginTop:"4px"},children:x})]}),(0,t.jsx)("td",{style:{verticalAlign:"top"},children:(0,t.jsxs)("div",{style:{fontSize:"0.85rem",color:"#6b7280",display:"flex",flexDirection:"column",gap:"4px"},children:[(0,t.jsxs)("a",{href:`mailto:${e.email}`,style:{display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[(0,t.jsx)(a.Mail,{size:14})," ",e.email]}),"N/A"!==p&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[(0,t.jsx)("span",{style:{fontSize:"14px"},children:"ğŸ“"})," ",p]})]})}),(0,t.jsx)("td",{style:{verticalAlign:"top",fontSize:"0.9rem",color:"#374151"},children:(0,t.jsx)("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:g})}),(0,t.jsx)("td",{style:{verticalAlign:"top",fontSize:"0.85rem",color:"#6b7280",whiteSpace:"nowrap"},children:(0,t.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:" center"},children:[(0,t.jsx)(r,{size:14}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)("div",{style:{fontSize:"0.75rem",opacity:.8},children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]},e.id)})})]})})]})}e.s(["default",()=>d],81456)}]);