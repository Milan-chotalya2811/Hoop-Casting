(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64706,e=>{e.v({card:"Form-module__iwjq6q__card",error:"Form-module__iwjq6q__error",footer:"Form-module__iwjq6q__footer",formContainer:"Form-module__iwjq6q__formContainer",formGroup:"Form-module__iwjq6q__formGroup",link:"Form-module__iwjq6q__link",submitBtn:"Form-module__iwjq6q__submitBtn",subtitle:"Form-module__iwjq6q__subtitle",title:"Form-module__iwjq6q__title"})},11175,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),o=e.i(22016),i=e.i(64706),a=e.i(1831),l=e.i(53904);function d(){let e=(0,t.useRouter)(),d=(0,t.useSearchParams)().get("registered"),{refreshAuth:n}=(0,l.useAuth)(),[u,c]=(0,s.useState)(!1),[m,f]=(0,s.useState)(null),[h,p]=(0,s.useState)({identifier:"",password:""}),_=e=>{p({...h,[e.target.name]:e.target.value})},j=async r=>{r.preventDefault(),f(null),c(!0);try{let{data:r}=await a.default.post("/login.php",{mobile:h.identifier,password:h.password});localStorage.setItem("token",r.token),await n(),e.push("/")}catch(e){console.error(e),f(e.response?.data?.message||"Login failed")}finally{c(!1)}};return(0,r.jsx)("div",{className:i.default.formContainer,children:(0,r.jsxs)("div",{className:i.default.card,children:[(0,r.jsx)("h1",{className:i.default.title,children:"Welcome Back"}),(0,r.jsx)("p",{className:i.default.subtitle,children:"Login to access your dashboard"}),d&&(0,r.jsx)("div",{style:{color:"var(--success)",background:"rgba(16, 185, 129, 0.1)",padding:"10px",borderRadius:"4px",marginBottom:"16px",border:"1px solid var(--success)"},children:"Registration successful! Please login."}),m&&(0,r.jsx)("div",{className:i.default.error,children:m}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)("div",{className:i.default.formGroup,children:[(0,r.jsx)("label",{children:"Mobile Number or Email"}),(0,r.jsx)("input",{type:"text",name:"identifier",placeholder:"john@example.com or +9198...",required:!0,value:h.identifier,onChange:_})]}),(0,r.jsxs)("div",{className:i.default.formGroup,children:[(0,r.jsx)("label",{children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",placeholder:"••••••••",required:!0,value:h.password,onChange:_})]}),(0,r.jsx)("div",{style:{textAlign:"right",marginBottom:"15px"},children:(0,r.jsx)(o.default,{href:"/forgot-password",style:{fontSize:"0.9rem",color:"var(--primary)",textDecoration:"none"},children:"Forgot Password?"})}),(0,r.jsx)("button",{type:"submit",className:i.default.submitBtn,disabled:u,children:u?"Logging In...":"Login"})]}),(0,r.jsxs)("div",{className:i.default.footer,children:["Don't have an account? ",(0,r.jsx)(o.default,{href:"/register",className:i.default.link,children:"Register"})]})]})})}function n(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(d,{})})}e.s(["default",()=>n])}]);