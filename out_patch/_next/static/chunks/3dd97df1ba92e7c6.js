(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21526,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],21526)},17554,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(1831),i=e.i(86905),a=e.i(65261),r=e.i(21526),d=e.i(63488),n=e.i(53904);function c(){let{profile:e}=(0,n.useAuth)(),[c,o]=(0,s.useState)([]),[h,u]=(0,s.useState)(!0),[x,p]=(0,s.useState)(""),[m,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{j()},[]);let j=async()=>{u(!0);try{let{data:e}=await l.default.get("/admin/users.php");e&&o(e)}catch(e){console.error("Error fetching users:",e)}u(!1)},y=async(e,t)=>{alert("Not implemented in PHP version yet.")},b=async(e,t)=>{alert("Not implemented in PHP version yet.")},g=c.filter(e=>{let t=(e.name||"").toLowerCase(),s=(e.email||"").toLowerCase(),l=x.toLowerCase();return t.includes(l)||s.includes(l)});return e?.role!=="admin"&&e?.role!=="super_admin"?(0,t.jsx)("div",{style:{padding:"2rem"},children:"Only Admins can manage user credentials."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:i.default.header,children:(0,t.jsxs)("h1",{className:i.default.title,children:["Registered Users ",(0,t.jsxs)("span",{style:{fontSize:"0.8em",opacity:.7},children:["(",c.length,")"]})]})}),(0,t.jsxs)("div",{className:i.default.tableContainer,children:[(0,t.jsxs)("div",{className:i.default.tableHeader,children:[(0,t.jsx)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:(0,t.jsx)("input",{type:"text",placeholder:"Search users...",className:i.default.searchBar,value:x,onChange:e=>p(e.target.value)})}),(0,t.jsxs)("button",{onClick:j,className:`${i.default.btn} ${i.default.btnSecondary} ${i.default.btnSm}`,children:[(0,t.jsx)(r.RefreshCw,{size:14})," Refresh"]})]}),(0,t.jsx)("div",{style:{overflowX:"auto"},children:(0,t.jsxs)("table",{className:i.default.table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"User"}),(0,t.jsx)("th",{children:"Role"}),(0,t.jsx)("th",{children:"Mobile"}),(0,t.jsx)("th",{children:"Signed Up"}),(0,t.jsx)("th",{children:"Linked Profile"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:h?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"Loading..."})}):0===g.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"No users found."})}):g.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[(0,t.jsx)("div",{style:{fontWeight:600},children:e.name||"No Name"}),(0,t.jsx)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:e.email})]}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{style:{background:"super_admin"===e.role?"#7c3aed":"admin"===e.role?"#2563eb":"#374151",color:"#fff",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem"},children:e.role})}),(0,t.jsx)("td",{children:(0,t.jsx)("div",{children:e.mobile||"-"})}),(0,t.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)("td",{children:e.talent_profiles&&!e.talent_profiles.deleted_at?(0,t.jsx)("span",{style:{color:"#10b981",fontWeight:500},children:"Yes"}):(0,t.jsx)("span",{style:{color:"#9ca3af"},children:"No"})}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,t.jsxs)("button",{className:`${i.default.btn} ${i.default.btnSecondary} ${i.default.btnSm}`,onClick:()=>b(e.email,e.id),disabled:m===e.id,title:"Send Password Reset Email",style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)(d.Mail,{size:14}),"Email Link"]}),(0,t.jsxs)("button",{className:`${i.default.btn} ${i.default.btnPrimary} ${i.default.btnSm}`,onClick:()=>{let t=prompt(`Set temporary password for ${e.email}:`);t&&y(e.id,t)},disabled:m===e.id,title:"Set Temporary Password (Requires Server Key)",style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)(a.KeyRound,{size:14}),"Set Temp"]})]})})]},e.id))})]})})]})]})}e.s(["default",()=>c])}]);