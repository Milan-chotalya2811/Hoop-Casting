(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7406,e=>{"use strict";var t=e.i(43476),l=e.i(71645),r=e.i(1831),a=e.i(86905),i=e.i(75254);let n=(0,i.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var s=e.i(77705),d=e.i(27612),o=e.i(88511),c=e.i(78917),u=e.i(21526),f=e.i(5194);let h=(0,i.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var m=e.i(37727),p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x=l.default.createContext&&l.default.createContext(p),b=["attr","size","title"];function y(){return(y=Object.assign.bind()).apply(this,arguments)}function j(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,r)}return l}function g(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?j(Object(l),!0).forEach(function(t){var r,a,i;r=e,a=t,i=l[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var r=l.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):j(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}function v(e){var t=t=>{var r,{attr:a,size:i,title:n}=e,s=function(e,t){if(null==e)return{};var l,r,a=function(e,t){if(null==e)return{};var l={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;l[r]=e[r]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)l=i[r],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,b),d=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.default.createElement("svg",y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,s,{className:r,style:g(g({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),n&&l.default.createElement("title",null,n),e.children)};return void 0!==x?l.default.createElement(x.Consumer,null,e=>t(e)):t(p)}function S(e){var t;return(t={tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]},e=>l.default.createElement(v,y({attr:g({},t.attr)},e),function e(t){return t&&t.map((t,r)=>l.default.createElement(t.tag,g({key:r},t.attr),e(t.child)))}(t.child)))(e)}var w=e.i(22016),O=e.i(18566),$=e.i(53904);let C=["Actor","Model","Anchor","Videographer","Makeup Artist","Stylist","Art Direction","Set Designer","Voice Over","Dancer","Singer","Writer","Photographer"];function N(){let{profile:e}=(0,$.useAuth)(),i=(0,O.useSearchParams)().get("filter"),[p,x]=(0,l.useState)([]),[b,y]=(0,l.useState)(!0),[j,g]=(0,l.useState)(""),[v,N]=(0,l.useState)("all"),[P,A]=(0,l.useState)(null),[k,z]=(0,l.useState)(!1),[E,_]=(0,l.useState)(""),[D,L]=(0,l.useState)("");(0,l.useEffect)(()=>{i&&["all","hidden","deleted"].includes(i)&&N(i)},[i]),(0,l.useEffect)(()=>{B()},[v]);let B=async()=>{y(!0);try{let{data:e}=await r.default.get("/admin/talents.php");if(e){let t=e.map(e=>({...e,users:{name:e.name,email:e.email,mobile:e.mobile,id:e.user_id}}));x(t)}}catch(e){console.error("Error fetching talents:",e)}y(!1)},T=async(e,t)=>{x(l=>l.map(l=>l.id===e?{...l,is_hidden:!t}:l).filter(e=>"hidden"!==v||e.is_hidden));try{await r.default.post("/admin/talent_action.php",{action:"toggle_hidden",id:e})}catch(e){alert("Error updating status"),B()}},R=async e=>{if(confirm("Are you sure you want to delete this profile? It will be moved to the Deleted bin.")){x(t=>t.filter(t=>t.id!==e));try{await r.default.post("/admin/talent_action.php",{action:"delete",id:e})}catch(e){alert("Error deleting profile"),B()}}},H=async e=>{if(confirm("Restore this profile? It will become active again.")){"deleted"===v&&x(t=>t.filter(t=>t.id!==e));try{await r.default.post("/admin/talent_action.php",{action:"restore",id:e})}catch(e){alert("Error restoring profile"),B()}}},I=Array.from(new Set([...C,...p.map(e=>e.category).filter(Boolean)])).sort(),M=Array.from(new Set(p.map(e=>e.city?e.city.trim().replace(/\w\S*/g,e=>e.replace(/^\w/,e=>e.toUpperCase())):null).filter(Boolean))).sort(),W=p.filter(e=>{let t=(e.users?.name||e.internal_name||"").toLowerCase(),l=(e.users?.email||e.internal_email||"").toLowerCase(),r=j.toLowerCase(),a=t.includes(r)||l.includes(r),i=!E||e.category===E,n=!D||e.city&&e.city.toLowerCase()===D.toLowerCase();return a&&i&&n});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:a.default.header,children:[(0,t.jsx)("h1",{className:a.default.title,children:"Talent Management"}),(0,t.jsxs)(w.default,{href:"/admin/talents/create",className:`${a.default.btn} ${a.default.btnPrimary}`,style:{textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)(f.FilePlus,{size:16}),"Add Talent"]})]}),(0,t.jsxs)("div",{className:a.default.tableContainer,children:[(0,t.jsxs)("div",{className:a.default.tableHeader,children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,t.jsx)("button",{className:`${a.default.btn} ${a.default.btnSecondary}`,onClick:()=>z(!k),title:"Toggle Filters",style:{padding:"8px"},children:(0,t.jsx)(h,{size:18})}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name or email...",className:a.default.searchBar,value:j,onChange:e=>g(e.target.value)}),(0,t.jsxs)("select",{className:a.default.searchBar,style:{width:"150px"},value:v,onChange:e=>N(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"Active Profiles"}),(0,t.jsx)("option",{value:"hidden",children:"Hidden Only"}),(0,t.jsx)("option",{value:"deleted",children:"Deleted Only"})]})]}),(0,t.jsxs)("button",{onClick:B,className:`${a.default.btn} ${a.default.btnSecondary} ${a.default.btnSm}`,children:[(0,t.jsx)(u.RefreshCw,{size:14})," Refresh"]})]}),k&&(0,t.jsxs)("div",{style:{padding:"1rem 1.5rem",background:"#f9fafb",borderBottom:"1px solid #e5e7eb",display:"flex",gap:"1rem",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[(0,t.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#4b5563"},children:"Category"}),(0,t.jsxs)("select",{value:E,onChange:e=>_(e.target.value),className:a.default.searchBar,style:{width:"200px"},children:[(0,t.jsx)("option",{value:"",children:"All Categories"}),I.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[(0,t.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#4b5563"},children:"Location (City)"}),(0,t.jsxs)("select",{value:D,onChange:e=>L(e.target.value),className:a.default.searchBar,style:{width:"200px"},children:[(0,t.jsx)("option",{value:"",children:"All Locations"}),M.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(E||D)&&(0,t.jsxs)("button",{onClick:()=>{_(""),L("")},className:a.default.btn,style:{marginTop:"auto",color:"#ef4444",textDecoration:"underline",background:"none"},children:[(0,t.jsx)(m.X,{size:14})," Clear Filters"]})]}),(0,t.jsx)("div",{style:{overflowX:"auto"},children:(0,t.jsxs)("table",{className:a.default.table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name / Email"}),(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{children:"Location"}),(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:b?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"Loading..."})}):0===W.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:"No profiles found."})}):W.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[(0,t.jsx)("div",{style:{fontWeight:600},children:e.users?.name||e.internal_name||"Unknown"}),(0,t.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:e.users?.email||e.internal_email}),e.users?.mobile&&(0,t.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:e.users.mobile})]}),(0,t.jsx)("td",{children:e.category}),(0,t.jsxs)("td",{children:[e.city,", ",e.state]}),(0,t.jsx)("td",{children:e.deleted_at?(0,t.jsx)("span",{className:`${a.default.badge} ${a.default.badgeDeleted}`,children:"Deleted"}):e.is_hidden?(0,t.jsx)("span",{className:`${a.default.badge} ${a.default.badgeHidden}`,children:"Hidden"}):(0,t.jsx)("span",{className:`${a.default.badge} ${a.default.badgeActive}`,children:"Active"})}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[e.users?.mobile&&(0,t.jsx)("a",{href:`https://wa.me/${e.users.mobile.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:`${a.default.btn} ${a.default.btnSm}`,style:{background:"#25D366",color:"#fff",border:"none"},title:"Chat on WhatsApp",children:(0,t.jsx)(S,{size:14})}),(0,t.jsx)(w.default,{href:`/admin/talents/edit?id=${e.id}`,children:(0,t.jsx)("span",{className:`${a.default.btn} ${a.default.btnSecondary} ${a.default.btnSm}`,title:"Edit Profile",children:(0,t.jsx)(o.Edit,{size:14})})}),(0,t.jsx)("a",{href:`/talent?id=${e.id}`,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("span",{className:`${a.default.btn} ${a.default.btnSecondary} ${a.default.btnSm}`,title:"Preview",children:(0,t.jsx)(c.ExternalLink,{size:14})})}),!e.deleted_at&&(0,t.jsx)("button",{className:`${a.default.btn} ${a.default.btnSecondary} ${a.default.btnSm}`,onClick:()=>T(e.id,e.is_hidden),title:e.is_hidden?"Unhide":"Hide",children:e.is_hidden?(0,t.jsx)(n,{size:14}):(0,t.jsx)(s.EyeOff,{size:14})}),e.deleted_at?(0,t.jsx)("button",{className:`${a.default.btn} ${a.default.btnPrimary} ${a.default.btnSm}`,onClick:()=>H(e.id),title:"Restore Profile",children:"Restore"}):(0,t.jsx)("button",{className:`${a.default.btn} ${a.default.btnDanger} ${a.default.btnSm}`,onClick:()=>R(e.id),title:"Delete (Soft)",children:(0,t.jsx)(d.Trash2,{size:14})})]})})]},e.id))})]})})]})]})}function P(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(N,{})})}e.s(["default",()=>P],7406)}]);